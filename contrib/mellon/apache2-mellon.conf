<Location />
MellonEnable "info"

MellonMergeEnvVars On |

# Must be adjusted to the names provided in the SAML message
MellonSetEnvNoPrefix REMOTE_USER NAME_ID

MellonSetEnvNoPrefix OPENXPKI_AUTH_STACK auth_stack
# Use SetEnvIf if you can not set the auth stack from remote
# SetEnvIf MELLON_any_item probe_value OPENXPKI_AUTH_STACK=Mellon

# Format for MS Azure AD
#MellonSPentityId spn:0dd12071-974f-483e-97b6-2a26ed2542eb

# Format when using e.g Okta (value is arbitrary)
MellonSPentityId http://openxpki.net/saml

# Metadata is provided for download from the IdP
MellonIdPMetadataFile /etc/openxpki/contrib/saml/metadata.xml

# self generated RSA key (rec. 2k) to secure the SAML messages
# openssl genrsa -out /etc/openxpki/contrib/saml/sp.key 2048
MellonSPPrivateKeyFile /etc/openxpki/contrib/saml/sp.key
</Location>